{"ast":null,"code":"var _jsxFileName = \"/home/ivan/Desktop/TLLP-SOOKLA/src/components/tablepart/tablepart.component.jsx\";\nimport React, { Component } from 'react';\nimport './tablepart.component.scss';\n\nclass TablePart extends Component {\n  constructor(props) {\n    super(props);\n    this.handlechange = this.handlechange.bind(this);\n    this.state = {\n      paev: this.props.paev,\n      focused: this.props.autofocus,\n      passClass: this.props.passClass\n    };\n  }\n\n  // Calculate how many lettes are typed into textarea to decide if new row is needed. \n  // Totally there are 76 letter spaces. With tping 77-th a new row is being added.\n  handlechange(e) {\n    this.adjustRowCount(e);\n    this.writeToLocalStorage(e);\n  }\n\n  adjustRowCount(e) {\n    const {\n      value\n    } = e.target;\n    e.target.rows = Math.floor(value.length / 95 - 0.00001) + 1;\n\n    if (value.length === 0) {\n      e.target.rows = 1;\n    }\n  }\n\n  writeToLocalStorage(e) {\n    const weekValue = document.querySelector('#select-week-to-edit').value;\n    const yearValue = document.querySelector('.weekdays-container h2').innerHTML.split(' ')[2];\n    const dayOfTheWeek = this.state.paev;\n    const mealName = e.target.parentNode.parentNode.firstElementChild.className.split(' ')[0];\n    localStorage.setItem(`${mealName}-${dayOfTheWeek}-${weekValue}-${yearValue}`, e.target.value);\n  }\n\n  render() {\n    const {\n      paev,\n      passClass\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"table\", {\n      className: `${this.props.viewTable ? 'view' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      className: this.props.paev,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"paev\",\n      style: {\n        columnSpan: '2',\n        border: 'none',\n        fontSize: '0.8em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 19\n      }\n    }, paev)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hommikusook mealtime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 19\n      }\n    }, \"Hoomikus\\xF6\\xF6k\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      disabled: this.props.viewTable,\n      autoFocus: this.state.focused,\n      rows: \"1\",\n      onChange: e => this.handlechange(e),\n      name: \"Breakfast\",\n      className: `textarea hommikusook ${passClass}`,\n      placeholder: `${this.props.viewTable ? \"Info puudub\" : \"Kirjuta siia\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 22\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"vitamiiniamps mealtime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, \"Vitamiiniamps\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      disabled: this.props.viewTable,\n      rows: \"1\",\n      onChange: e => this.handlechange(e),\n      name: \"Vitamin\",\n      className: `textarea vitamiiniamps ${passClass}`,\n      placeholder: `${this.props.viewTable ? \"Info puudub\" : \"Kirjuta siia\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 22\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"louna mealtime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    }, \"L\\xF5unas\\xF6\\xF6k\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      disabled: this.props.viewTable,\n      rows: \"1\",\n      onChange: e => this.handlechange(e),\n      name: \"Lunch\",\n      className: `textarea louna ${passClass}`,\n      placeholder: `${this.props.viewTable ? \"Info puudub\" : \"Kirjuta siia\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 22\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"oode mealtime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }, \"Oode\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      disabled: this.props.viewTable,\n      rows: \"1\",\n      onChange: e => this.handlechange(e),\n      name: \"Oode\",\n      className: `textarea oode ${passClass}`,\n      placeholder: `${this.props.viewTable ? \"Info puudub\" : \"Kirjuta siia\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 22\n      }\n    })))));\n  }\n\n}\n\nexport default TablePart;","map":{"version":3,"sources":["/home/ivan/Desktop/TLLP-SOOKLA/src/components/tablepart/tablepart.component.jsx"],"names":["React","Component","TablePart","constructor","props","handlechange","bind","state","paev","focused","autofocus","passClass","e","adjustRowCount","writeToLocalStorage","value","target","rows","Math","floor","length","weekValue","document","querySelector","yearValue","innerHTML","split","dayOfTheWeek","mealName","parentNode","firstElementChild","className","localStorage","setItem","render","viewTable","columnSpan","border","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport './tablepart.component.scss';\n\nclass TablePart extends Component {\n   constructor(props) {\n      super(props);\n\n      this.handlechange = this.handlechange.bind(this);\n      \n      this.state = {\n         paev: this.props.paev,\n         focused: this.props.autofocus,\n         passClass: this.props.passClass\n      }\n   };\n\n   // Calculate how many lettes are typed into textarea to decide if new row is needed. \n   // Totally there are 76 letter spaces. With tping 77-th a new row is being added.\n   handlechange(e) {\n      this.adjustRowCount(e);\n      this.writeToLocalStorage(e);\n   };\n\n   adjustRowCount(e) {\n      const { value } = e.target;\n      e.target.rows = Math.floor(value.length / 95 - 0.00001) + 1;\n      if (value.length === 0) {\n         e.target.rows = 1;\n      }\n   };\n\n   writeToLocalStorage(e) {\n      const weekValue = document.querySelector('#select-week-to-edit').value;\n      const yearValue = document.querySelector('.weekdays-container h2').innerHTML.split(' ')[2];\n      const dayOfTheWeek = this.state.paev;\n      const mealName = e.target.parentNode.parentNode.firstElementChild.className.split(' ')[0];\n\n      localStorage.setItem(`${mealName}-${dayOfTheWeek}-${weekValue}-${yearValue}`, e.target.value);\n   }\n\n   render() {\n      const { paev, passClass } = this.state;\n      return (\n         <table className={`${this.props.viewTable ? 'view' : ''}`} >\n            <tbody className={this.props.paev} >\n\n               <tr>\n                  <td\n                     className='paev'\n                     style={{ columnSpan: '2', border: 'none', fontSize: '0.8em' }}\n                  >\n                     {paev}\n                  </td>\n               </tr>\n               <tr>\n                  <td className=\"hommikusook mealtime\">Hoomikusöök</td>\n                  <td>\n                     <textarea\n                        disabled={this.props.viewTable}\n                        autoFocus={this.state.focused}\n                        rows='1'\n                        onChange={(e) => this.handlechange(e)}\n                        name=\"Breakfast\"\n                        className={`textarea hommikusook ${passClass}`}\n                        placeholder={`${this.props.viewTable ? \"Info puudub\" : \"Kirjuta siia\"}`} />\n                  </td>\n               </tr>\n               <tr>\n                  <td className=\"vitamiiniamps mealtime\">Vitamiiniamps</td>\n                  <td>\n                     <textarea\n                        disabled={this.props.viewTable}\n                        rows='1'\n                        onChange={(e) => this.handlechange(e)}\n                        name=\"Vitamin\"\n                        className={`textarea vitamiiniamps ${passClass}`}\n                        placeholder={`${this.props.viewTable ? \"Info puudub\" : \"Kirjuta siia\"}`} />\n                  </td>\n               </tr>\n               <tr>\n                  <td className=\"louna mealtime\">Lõunasöök</td>\n                  <td>\n                     <textarea\n                        disabled={this.props.viewTable}\n                        rows='1'\n                        onChange={(e) => this.handlechange(e)}\n                        name=\"Lunch\"\n                        className={`textarea louna ${passClass}`}\n                        placeholder={`${this.props.viewTable ? \"Info puudub\" : \"Kirjuta siia\"}`} />\n                  </td>\n               </tr>\n               <tr>\n                  <td className=\"oode mealtime\">Oode</td>\n                  <td>\n                     <textarea\n                        disabled={this.props.viewTable}\n                        rows='1'\n                        onChange={(e) => this.handlechange(e)}\n                        name=\"Oode\"\n                        className={`textarea oode ${passClass}`}\n                        placeholder={`${this.props.viewTable ? \"Info puudub\" : \"Kirjuta siia\"}`} />\n                  </td>\n               </tr>\n            </tbody>\n         </table>\n      )\n   }\n}\n\nexport default TablePart;"]},"metadata":{},"sourceType":"module"}